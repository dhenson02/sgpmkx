function addEvent(a,b,c){return b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent("on"+a,c)}function removeEvent(a,b,c){return b.removeEventListener?b.removeEventListener(a,c,!1):b.detachEvent("on"+a,c)}function connError(a){}var regLoading=/ ?loading/g,regFullPage=/ ?fullPage/g,regCheatSheet=/ ?cheatSheet/g,regNoChange=/ ?nochange/g,md=markdownit({highlight:function(a,b){if(b&&hljs.getLanguage(b)){try{return hljs.highlight(b,a).value}catch(c){}}return""}});Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e)){throw new TypeError("Object.keys called on non-object")}var f,g,h=[];for(f in e){a.call(e,f)&&h.push(f)}if(b){for(g=0;d>g;g++){a.call(e,c[g])&&h.push(c[g])}}return h}}()),String.prototype.toCamelCase=function(){return this.toLowerCase().replace(/\s(.)/g,function(a){return a.toUpperCase()}).replace(/\s/g,"")},function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i){return i(g,!0)}if(f){return f(g,!0)}var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++){e(d[g])}return e}({1:[function(a,b){!function(c,d,e,f,g){function h(a){var b=B("#wrapper",[B("#content.fullPage",[B("#contentWrap",[B("#output")])])]);return"editor"===a&&(b=B("#wrapper",[B("#content.fullPage",[B("#buttons",[B("input#titleField",{onkeyup:m,value:(H.currentContent.title||"")+"",type:"text"}),B("#toggleButton.btn",{onclick:s,role:"button"},[B("span",["Toggle Editor"])]),B("#cheatSheetButton.btn",{onclick:t,role:"button"},[B("span",["Cheat Sheet"])]),B("#deleteButton.btn",{onclick:l,role:"button"},[B("span",["Delete"])]),B("#createButton.btn",{onclick:k,role:"button"},[B("span",["New"])]),B("#saveButton.btn",{onclick:j,role:"button"},[B("span",["Save"])])]),B("#cheatSheet",["This will be a cheat-sheet for markdown"]),B("#contentWrap",[B("#input",[B("textarea#textarea",[(H.currentContent.text||"")+""])]),B("#output")])])])),b}function i(a,b){if(a===!0){if(H.inTransition[b]===!0){return!1}H.inTransition[b]=!0,regLoading.test(b.className)===!1&&(b.className+=" loading")}else{setTimeout(function(){H.inTransition[b]=!1,b.className=b.className.replace(regLoading,"")},200)}}function j(a){a=a||c.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.currentTarget||a.srcElement||this;if(("#text"===b.nodeName||3===b.nodeType||b.childNodes.length<1)&&(b=b.parentNode.parentNode),"span"===b.nodeName&&(b=b.parentNode),H.currentContent.set({title:H.currentContent.title.trim(),text:H.currentContent.text.trim()}),H.currentContent.text===H.currentContent.originalText&&H.currentContent.title===H.currentContent.originalTitle){regNoChange.test(b.className)||(b.className+=" nochange");try{b.childNodes[0].innerHTML="No change"}catch(d){}return H.domRefs.buttons.tempSaveText&&clearTimeout(H.domRefs.buttons.tempSaveText),H.domRefs.buttons.tempSaveText=setTimeout(function(){b.childNodes[0].innerHTML="Save",b.className=b.className.replace(regNoChange,"")},2e3),!1}i(!0,H.domRefs.contentWrap),f({url:H.sitePath+"_api/lists/getByTitle('"+H.currentContent.contentType+"')/items("+H.currentContent.id+")",method:"POST",data:JSON.stringify({__metadata:{type:H.currentContent.listItemType},Title:H.currentContent.title,Text:H.currentContent.text}),type:"json",contentType:"application/json",withCredentials:!0,headers:{"X-HTTP-Method":"MERGE",Accept:"application/json;odata=verbose","text-Type":"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":H.digest,"IF-MATCH":"*"},success:function(){n({title:[B("h2",[H.currentContent.title+" updated!"])],text:[B("strong",[H.currentContent.category.join("/")+""]),B("text",[" has been updated with the changes you just made."])],type:"success",showCancelButton:!1})},error:connError,complete:function(){i(!1,H.domRefs.contentWrap)}})}function k(){n({title:[B("h2",["New Page"])],text:[B("h2",["Give it a name:"])],type:"new"},function(a){return"object"!=typeof a?!1:(i(!0,H.domRefs.contentWrap),void f({url:H.sitePath+"_api/lists/getByTitle('"+H.currentContent.contentType+"')/items",method:"POST",data:JSON.stringify({__metadata:{type:H.currentContent.listItemType},Title:a.title,Text:"## New Page :)",Category:a.category}),type:"json",contentType:"application/json",withCredentials:!0,headers:{Accept:"application/json;odata=verbose","text-Type":"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":H.digest},success:function(){n({title:[B("h2",[a.title+""]),B("text",["' was created"])],text:[B("text",["Your page is located at "]),B("strong",[a.category+""]),B("text",["**.\nGo fill it in!"])],type:"success",okText:"Take me",showCancelButton:!1},function(){H.router.setRoute(a.category)})},error:connError,complete:function(){i(!1,H.domRefs.contentWrap)}}))})}function l(){H.currentContent.title=H.currentContent.title.trim();var a=H.currentContent.category.join("/");n({title:[B("p",["DELETE"]),B("strong",[H.currentContent.title+""]),B("text",[", Path: "+a])],text:[B("em",["You might wanna check with someone first."])],type:"warning"},function(b){return b===!1?!1:(i(!0,H.domRefs.contentWrap),void f({url:H.sitePath+"_api/lists/getByTitle('"+H.currentContent.contentType+"')/items("+H.currentContent.id+")",method:"POST",type:"json",contentType:"application/json",withCredentials:!0,headers:{"IF-MATCH":"*","X-HTTP-Method":"DELETE",Accept:"application/json;odata=verbose","text-Type":"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":H.digest},success:function(){n({title:[B("h2",[H.currentContent.title+" deleted!"])],text:[B("strong",[a+""]),B("text",[" is no longer in use."])],type:"success",showCancelButton:!1},function(){H.currentContent.category.pop(),H.router.setRoute(H.currentContent.category.join("/"))})},error:connError,complete:function(){i(!1,H.domRefs.contentWrap)}}))})}function m(){var a=H.domRefs.titleField.value;H.domRefs.output.innerHTML=md.render("# "+a+"\n"+H.currentContent.text),H.currentContent.set({title:a})}function n(a,b){a={title:a.title||[B("h2",["Info"])],text:a.text||[B("text",["Click OK to continue"])],type:a.type||"success",okText:a.okText||"OK!",showCancelButton:"boolean"==typeof a.showCancelButton?a.showCancelButton:!0,closeOnConfirm:"boolean"==typeof a.closeOnConfirm?a.closeOnConfirm:!0},b="function"==typeof b?b:null;var c=q(a,b),f=C(H.modalDOM,c);H.modalOverlay=D(H.modalOverlay,f),H.modalDOM=c,e(H.modalOverlay).velocity({opacity:1},{duration:75,display:"block"}),addEvent("keyup",d,p)}function o(a,b){a=a||c.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1;var e=a.keyCode||a.which||a.charCode||null;if("keyup"===a.type&&13===e||"click"===a.type){if(!b){return!1}var f=d.getElementById("modalInput").value.trim(),g=d.getElementById("menuItems").value+f.toCamelCase();return b(f&&g?{title:f,category:g}:!0),r(),!1}}function p(a,b){a=a||c.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1;var d=a.currentTarget||a.srcElement||this,e=a.keyCode||a.which||a.charCode||null;return"span"===d.nodeName&&(d=d.parentNode),"click"===a.type&&(d===a.target||d===a.srcElement)||"keyup"===a.type&&27===e?(b&&b(),r(),!1):void 0}function q(a,b){function c(a){o(a,b)}function d(a){p(a,b)}return B(".modalOverlay",{style:{zIndex:7}},[B(".modalBg",{onclick:d}),B(".modal",[B(".header",a.title),B("label",a.text.concat(["new"===a.type&&B("input.modalInput",{type:"text",tabIndex:0,autofocus:"",onkeyup:c})||null,"new"===a.type&&B("select.menuItems",{tabIndex:1,onkeyup:c},[H.menuItems||null])||null])),B(".modalButtons",[B(".okButton.btn",{tabIndex:2,onclick:c,role:"button"},[B("span",[(a.okText||"OK!")+""])]),a.showCancelButton&&B(".cancelButton.btn",{tabIndex:3,onclick:d,role:"button"},[B("span",["Nope."])])||null])])])}function r(){e(H.modalOverlay).velocity({opacity:0},{duration:75,display:"none"});var a=B(".modalOverlay",{style:{display:"none",opacity:0}}),b=C(H.modalDOM,a);H.modalOverlay=D(H.modalOverlay,b),H.modalDOM=a,removeEvent("keyup",d,p)}function s(){if(H.animating){return!1}H.animating=!0;var a=regFullPage.test(H.domRefs.content.className),b=a?H.domRefs.content.className.replace(regFullPage,""):H.domRefs.content.className+" fullPage";return H.domRefs.$contentWrap.velocity({opacity:0},{duration:50,complete:function(){H.domRefs.content.className=b,H.domRefs.contentWrap.className="",H.domRefs.$contentWrap.velocity({opacity:1},{duration:75,complete:function(){a&&H.domRefs.editor.refresh(),H.animating=!1}})}}),!1}function t(){if(H.animating){return!1}H.animating=!0;var a=regCheatSheet.test(H.domRefs.contentWrap.className),b=a?"":"cheatSheet",c=a?H.domRefs.contentWrap.className.replace(regCheatSheet,""):H.domRefs.contentWrap.className+" cheatSheet";return H.domRefs.$contentWrap.velocity({opacity:0},{duration:50,complete:function(){H.domRefs.cheatSheet.className=b,H.domRefs.contentWrap.className=c,H.domRefs.$contentWrap.velocity({opacity:1},{duration:75,complete:function(){H.animating=!1}})}}),!1}function u(){var a,b,c,d;H.domRefs.editor?(a=H.domRefs.editor.getWrapperElement(),a.parentNode.removeChild(a),H.domRefs.set({editor:null}),b=h("editor")):b=h(),d=C(H.dirtyDOM,b),H.rootNode=D(H.rootNode,d),H.dirtyDOM=b,c=B(".modalOverlay",{style:{display:"none",opacity:0}}),d=C(H.modalDOM,c),H.modalOverlay=D(H.modalOverlay,d),H.modalDOM=c,H.domRefs=new G,H.domRefs.set(),r()}function v(a){var b=a.getValue();H.domRefs.output.innerHTML=md.render("# "+H.currentContent.title+"\n"+b),H.currentContent.set({text:b})}function w(a){H.domRefs.output.innerHTML=md.render("# "+a.title+"\n"+a.text)}function x(){H.dirtyDOM=CodeMirror?h("editor"):h(),H.rootNode=E(H.dirtyDOM),H.modalDOM=B(".modalOverlay",{style:{display:"none",opacity:0}}),H.modalOverlay=E(H.modalDOM);try{var a=d.getElementById("wrapper");a.parentNode.replaceChild(H.rootNode,a)}catch(b){try{a=d.getElementById("content"),a.style.display="none",a.parentNode.appendChild(H.rootNode)}catch(b){d.body.appendChild(H.rootNode)}}d.body.appendChild(H.modalOverlay),H.domRefs=new G,H.domRefs.set(),H.router.init(),y()}function y(){f({url:H.sitePath+"_api/lists(guid'4522F7F9-1B5C-4990-9704-991725DEF693')/items/?$select=Title,Category",method:"GET",type:"json",contentType:"application/json",withCredentials:!0,headers:{Accept:"application/json;odata=verbose","text-Type":"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"},success:function(a){for(var b,c={},d=[];b=a.d.results.shift();){c[b.Category]=b.Title,d.push(B("option",{value:b.Category},[b.Title+""]))}H.menuItems=B("optgroup",d)},error:connError})}function z(a){var b=h("editor",a),c=C(H.dirtyDOM,b);H.rootNode=D(H.rootNode,c),H.dirtyDOM=b,H.domRefs=new G,H.domRefs.set({editor:CodeMirror.fromTextArea(H.domRefs.textarea,{mode:"gfm",lineNumbers:!1,matchBrackets:!0,lineWrapping:!0,theme:"neo",extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"}}),$contentWrap:e(H.domRefs.contentWrap)}),H.domRefs.editor.on("change",v),H.domRefs.editor.refresh()}function A(a,b){f({url:H.sitePath+"_api/lists/getByTitle('"+b+"')/items/?$filter=Category eq '"+a+"'&$select=ID,Title,Text,References,Category",method:"GET",type:"json",contentType:"application/json",withCredentials:!0,headers:{Accept:"application/json;odata=verbose","text-Type":"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"},success:function(a){if(!a.d.results[0]){return!1}var c=a.d.results[0];H.currentContent=new F({id:c.ID,title:c.Title||"",text:c.Text||"",references:c.References.results||[],category:c.Category.split("/"),contentType:b,listItemType:c.__metadata.type,timestamp:Date&&Date.now()||new Date}),H.currentContent.set(),w(H.currentContent),i(!1,H.domRefs.output)},error:connError,complete:function(){CodeMirror&&z(H.currentContent)}})}var B=a("virtual-dom/h"),C=a("virtual-dom/diff"),D=a("virtual-dom/patch"),E=a("virtual-dom/create-element"),F=a("./store"),G=a("./domStore"),H={sitePath:"https://kx.afms.mil/kj/kx7/PublicHealth/",digest:d.getElementById("__REQUESTDIGEST").value,pages:{},currentContent:new F,domRefs:new G,dirtyDOM:null,rootNode:null,modalDOM:null,modalOverlay:null,router:null,menuItems:null,animating:!1,inTransition:{}};H.router=g({"/(fhm|comm)":{"/(\\w+)":{"/(content|faq|forms|resources)":{on:function(a,b,c){i(!0,H.domRefs.output),A("/"+a+"/"+b,c?c:"Content")}}},on:function(a,b){H.router.setRoute("/"+a+"/"+b+"/Content")}},on:function(a){i(!0,H.domRefs.output),A(a,"Content")}}).configure({strict:!1,after:u,notfound:function(){H.router.setRoute("/fhm/pha/content")}}),x(),b.exports=H}(window,document,jQuery,reqwest,Router,markdownit)},{"./domStore":2,"./store":37,"virtual-dom/create-element":4,"virtual-dom/diff":5,"virtual-dom/h":6,"virtual-dom/patch":14}],2:[function(a,b){function c(a){return{nodes:a,content:document.getElementById("content"),buttons:document.getElementById("buttons"),titleField:document.getElementById("titleField"),contentWrap:document.getElementById("contentWrap"),cheatSheet:document.getElementById("cheatSheet"),$contentWrap:null,input:document.getElementById("input"),textarea:document.getElementById("textarea"),editor:null,output:document.getElementById("output"),set:function(b){var c;b=b||a||this.nodes;for(c in b){this.hasOwnProperty(c)&&(this[c]=b[c])}return this},reset:function(){var b;for(b in a){this.hasOwnProperty(b)&&(this[b]=null)}a=null}}}b.exports=c},{}],3:[function(){},{}],4:[function(a,b){var c=a("./vdom/create-element.js");b.exports=c},{"./vdom/create-element.js":16}],5:[function(a,b){var c=a("./vtree/diff.js");b.exports=c},{"./vtree/diff.js":36}],6:[function(a,b){var c=a("./virtual-hyperscript/index.js");b.exports=c},{"./virtual-hyperscript/index.js":23}],7:[function(a,b){b.exports=function(a){var b,c=String.prototype.split,d=/()??/.exec("")[1]===a;return b=function(b,e,f){if("[object RegExp]"!==Object.prototype.toString.call(e)){return c.call(b,e,f)}var g,h,i,j,k=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),m=0,e=RegExp(e.source,l+"g");for(b+="",d||(g=RegExp("^"+e.source+"$(?!\\s)",l)),f=f===a?-1>>>0:f>>>0;(h=e.exec(b))&&(i=h.index+h[0].length,!(i>m&&(k.push(b.slice(m,h.index)),!d&&h.length>1&&h[0].replace(g,function(){for(var b=1;b<arguments.length-2;b++){arguments[b]===a&&(h[b]=a)}}),h.length>1&&h.index<b.length&&Array.prototype.push.apply(k,h.slice(1)),j=h[0].length,m=i,k.length>=f)));){e.lastIndex===h.index&&e.lastIndex++}return m===b.length?(j||!e.test(""))&&k.push(""):k.push(b.slice(m)),k.length>f?k.slice(0,f):k}}()},{}],8:[function(a,b){"use strict";function c(a){var b=a[f];return b||(b=a[f]={}),b}var d=a("individual/one-version"),e="7";d("ev-store",e);var f="__EV_STORE_KEY@"+e;b.exports=c},{"individual/one-version":10}],9:[function(a,b){(function(a){"use strict";function c(a,b){return a in d?d[a]:(d[a]=b,b)}var d="undefined"!=typeof window?window:void 0!==a?a:{};b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b){"use strict";function c(a,b,c){var e="__INDIVIDUAL_ONE_VERSION_"+a,f=e+"_ENFORCE_SINGLETON",g=d(f,b);if(g!==b){throw Error("Can only have one copy of "+a+".\nYou already have version "+g+" installed.\nThis means you cannot install version "+b)}return d(e,c)}var d=a("./index.js");b.exports=c},{"./index.js":9}],11:[function(a,b){(function(c){var d=void 0!==c?c:"undefined"!=typeof window?window:{},e=a("min-document");if("undefined"!=typeof document){b.exports=document}else{var f=d["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=d["__GLOBAL_DOCUMENT_CACHE@4"]=e),b.exports=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],12:[function(a,b){"use strict";b.exports=function(a){return"object"==typeof a&&null!==a}},{}],13:[function(a,b){function c(a){return"[object Array]"===e.call(a)}var d=Array.isArray,e=Object.prototype.toString;b.exports=d||c},{}],14:[function(a,b){var c=a("./vdom/patch.js");b.exports=c},{"./vdom/patch.js":19}],15:[function(a,b){function c(a,b,c){for(var f in b){var i=b[f];void 0===i?d(a,f,i,c):h(i)?(d(a,f,i,c),i.hook&&i.hook(a,f,c?c[f]:void 0)):g(i)?e(a,b,c,f,i):a[f]=i}}function d(a,b,c,d){if(d){var e=d[b];if(h(e)){e.unhook&&e.unhook(a,b,c)}else{if("attributes"===b){for(var f in e){a.removeAttribute(f)}}else{if("style"===b){for(var g in e){a.style[g]=""}}else{"string"==typeof e?a[b]="":a[b]=null}}}}}function e(a,b,c,d,e){var h=c?c[d]:void 0;if("attributes"!==d){if(h&&g(h)&&f(h)!==f(e)){return void(a[d]=e)}g(a[d])||(a[d]={});var i="style"===d?"":void 0;for(var j in e){var k=e[j];a[d][j]=void 0===k?i:k}}else{for(var l in e){var m=e[l];void 0===m?a.removeAttribute(l):a.setAttribute(l,m)}}}function f(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var g=a("is-object"),h=a("../vnode/is-vhook.js");b.exports=c},{"../vnode/is-vhook.js":27,"is-object":12}],16:[function(a,b){function c(a,b){var j=b?b.document||d:d,k=b?b.warn:null;if(a=i(a).a,h(a)){return a.init()}if(g(a)){return j.createTextNode(a.text)}if(!f(a)){return k&&k("Item is not a valid virtual dom node",a),null}var l=null===a.namespace?j.createElement(a.tagName):j.createElementNS(a.namespace,a.tagName),m=a.properties;e(l,m);for(var n=a.children,o=0;o<n.length;o++){var p=c(n[o],b);p&&l.appendChild(p)}return l}var d=a("global/document"),e=a("./apply-properties"),f=a("../vnode/is-vnode.js"),g=a("../vnode/is-vtext.js"),h=a("../vnode/is-widget.js"),i=a("../vnode/handle-thunk.js");b.exports=c},{"../vnode/handle-thunk.js":25,"../vnode/is-vnode.js":28,"../vnode/is-vtext.js":29,"../vnode/is-widget.js":30,"./apply-properties":15,"global/document":11}],17:[function(a,b){function c(a,b,c,e){return c&&0!==c.length?(c.sort(f),d(a,b,c,e,0)):{}}function d(a,b,c,f,h){if(f=f||{},a){e(c,h,h)&&(f[h]=a);var i=b.children;if(i){for(var j=a.childNodes,k=0;k<b.children.length;k++){h+=1;var l=i[k]||g,m=h+(l.count||0);e(c,h,m)&&d(j[k],l,c,f,h),h=m}}}return f}function e(a,b,c){if(0===a.length){return!1}for(var d,e,f=0,g=a.length-1;g>=f;){if(d=(g+f)/2>>0,e=a[d],f===g){return e>=b&&c>=e}if(b>e){f=d+1}else{if(!(e>c)){return!0}g=d-1}}return!1}function f(a,b){return a>b?1:-1}var g={};b.exports=c},{}],18:[function(a,b){function c(a,b,c){var i=a.type,m=a.vNode,o=a.patch;switch(i){case n.REMOVE:return d(b,m);case n.INSERT:return e(b,o,c);case n.VTEXT:return f(b,m,o,c);case n.WIDGET:return g(b,m,o,c);case n.VNODE:return h(b,m,o,c);case n.ORDER:return j(b,o),b;case n.PROPS:return l(b,o,m.properties),b;case n.THUNK:return k(b,c.patch(b,o,c));default:return b}}function d(a,b){var c=a.parentNode;return c&&c.removeChild(a),i(a,b),null}function e(a,b,c){var d=o(b,c);return a&&a.appendChild(d),a}function f(a,b,c,d){var e;if(3===a.nodeType){a.replaceData(0,a.length,c.text),e=a}else{var f=a.parentNode;e=o(c,d),f&&e!==a&&f.replaceChild(e,a)}return e}function g(a,b,c,d){var e,f=p(b,c);e=f?c.update(b,a)||a:o(c,d);var g=a.parentNode;return g&&e!==a&&g.replaceChild(e,a),f||i(a,b),e}function h(a,b,c,d){var e=a.parentNode,f=o(c,d);return e&&f!==a&&e.replaceChild(f,a),f}function i(a,b){"function"==typeof b.destroy&&m(b)&&b.destroy(a)}function j(a,b){for(var c,d,e,f=a.childNodes,g={},h=0;h<b.removes.length;h++){d=b.removes[h],c=f[d.from],d.key&&(g[d.key]=c),a.removeChild(c)}for(var i=f.length,j=0;j<b.inserts.length;j++){e=b.inserts[j],c=g[e.key],a.insertBefore(c,e.to>=i++?null:f[e.to])}}function k(a,b){return a&&b&&a!==b&&a.parentNode&&a.parentNode.replaceChild(b,a),b}var l=a("./apply-properties"),m=a("../vnode/is-widget.js"),n=a("../vnode/vpatch.js"),o=a("./create-element"),p=a("./update-widget");b.exports=c},{"../vnode/is-widget.js":30,"../vnode/vpatch.js":33,"./apply-properties":15,"./create-element":16,"./update-widget":20}],19:[function(a,b){function c(a,b){return d(a,b)}function d(a,b,c){var h=f(b);if(0===h.length){return a}var j=i(a,b.a,h),k=a.ownerDocument;c||(c={patch:d},k!==g&&(c.document=k));for(var l=0;l<h.length;l++){var m=h[l];a=e(a,j[m],b[m],c)}return a}function e(a,b,c,d){if(!b){return a}var e;if(h(c)){for(var f=0;f<c.length;f++){e=j(c[f],b,d),b===a&&(a=e)}}else{e=j(c,b,d),b===a&&(a=e)}return a}function f(a){var b=[];for(var c in a){"a"!==c&&b.push(+c)}return b}var g=a("global/document"),h=a("x-is-array"),i=a("./dom-index"),j=a("./patch-op");b.exports=c},{"./dom-index":17,"./patch-op":18,"global/document":11,"x-is-array":13}],20:[function(a,b){function c(a,b){return d(a)&&d(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}var d=a("../vnode/is-widget.js");b.exports=c},{"../vnode/is-widget.js":30}],21:[function(a,b){"use strict";function c(a){return this instanceof c?void(this.value=a):new c(a)}var d=a("ev-store");b.exports=c,c.prototype.hook=function(a,b){var c=d(a),e=b.substr(3);c[e]=this.value},c.prototype.unhook=function(a,b){var c=d(a),e=b.substr(3);c[e]=void 0}},{"ev-store":8}],22:[function(a,b){"use strict";function c(a){return this instanceof c?void(this.value=a):new c(a)}b.exports=c,c.prototype.hook=function(a,b){a[b]!==this.value&&(a[b]=this.value)}},{}],23:[function(a,b){"use strict";function c(a,b,c){var f,h,i,j,l=[];return!c&&g(b)&&(c=b,h={}),h=h||b||{},f=r(a,h),h.hasOwnProperty("key")&&(i=h.key,h.key=void 0),h.hasOwnProperty("namespace")&&(j=h.namespace,h.namespace=void 0),"INPUT"!==f||j||!h.hasOwnProperty("value")||void 0===h.value||p(h.value)||(h.value=s(h.value)),e(h),void 0!==c&&null!==c&&d(c,l,f,h),new k(f,h,l,i,j)}function d(a,b,c,e){if("string"==typeof a){b.push(new l(a))}else{if(f(a)){b.push(a)}else{if(!j(a)){if(null===a||void 0===a){return}throw h({foreignObject:a,parentVnode:{tagName:c,properties:e}})}for(var g=0;g<a.length;g++){d(a[g],b,c,e)}}}}function e(a){for(var b in a){if(a.hasOwnProperty(b)){var c=a[b];if(p(c)){continue}"ev-"===b.substr(0,3)&&(a[b]=t(c))}}}function f(a){return m(a)||n(a)||o(a)||q(a)}function g(a){return"string"==typeof a||j(a)||f(a)}function h(a){var b=Error();return b.type="virtual-hyperscript.unexpected.virtual-element",b.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+i(a.foreignObject)+".\nThe parent vnode is:\n"+i(a.parentVnode),b.foreignObject=a.foreignObject,b.parentVnode=a.parentVnode,b}function i(a){try{return JSON.stringify(a,null,"    ")}catch(b){return a+""}}var j=a("x-is-array"),k=a("../vnode/vnode.js"),l=a("../vnode/vtext.js"),m=a("../vnode/is-vnode"),n=a("../vnode/is-vtext"),o=a("../vnode/is-widget"),p=a("../vnode/is-vhook"),q=a("../vnode/is-thunk"),r=a("./parse-tag.js"),s=a("./hooks/soft-set-hook.js"),t=a("./hooks/ev-hook.js");b.exports=c},{"../vnode/is-thunk":26,"../vnode/is-vhook":27,"../vnode/is-vnode":28,"../vnode/is-vtext":29,"../vnode/is-widget":30,"../vnode/vnode.js":32,"../vnode/vtext.js":34,"./hooks/ev-hook.js":21,"./hooks/soft-set-hook.js":22,"./parse-tag.js":24,"x-is-array":13}],24:[function(a,b){"use strict";function c(a,b){if(!a){return"DIV"}var c=!b.hasOwnProperty("id"),g=d(a,e),h=null;f.test(g[1])&&(h="DIV");var i,j,k,l;for(l=0;l<g.length;l++){j=g[l],j&&(k=j.charAt(0),h?"."===k?(i=i||[],i.push(j.substring(1,j.length))):"#"===k&&c&&(b.id=j.substring(1,j.length)):h=j)}return i&&(b.className&&i.push(b.className),b.className=i.join(" ")),b.namespace?h:h.toUpperCase()}var d=a("browser-split"),e=/([\.#]?[a-zA-Z0-9_:-]+)/,f=/^\.|#/;b.exports=c},{"browser-split":7}],25:[function(a,b){function c(a,b){var c=a,e=b;return h(b)&&(e=d(b,a)),h(a)&&(c=d(a,null)),{a:c,b:e}}function d(a,b){var c=a.vnode;if(c||(c=a.vnode=a.render(b)),!(e(c)||f(c)||g(c))){throw Error("thunk did not return a valid node")}return c}var e=a("./is-vnode"),f=a("./is-vtext"),g=a("./is-widget"),h=a("./is-thunk");b.exports=c},{"./is-thunk":26,"./is-vnode":28,"./is-vtext":29,"./is-widget":30}],26:[function(a,b){function c(a){return a&&"Thunk"===a.type}b.exports=c},{}],27:[function(a,b){function c(a){return a&&("function"==typeof a.hook&&!a.hasOwnProperty("hook")||"function"==typeof a.unhook&&!a.hasOwnProperty("unhook"))}b.exports=c},{}],28:[function(a,b){function c(a){return a&&"VirtualNode"===a.type&&a.version===d}var d=a("./version");b.exports=c},{"./version":31}],29:[function(a,b){function c(a){return a&&"VirtualText"===a.type&&a.version===d}var d=a("./version");b.exports=c},{"./version":31}],30:[function(a,b){function c(a){return a&&"Widget"===a.type}b.exports=c},{}],31:[function(a,b){b.exports="2"},{}],32:[function(a,b){function c(a,b,c,d,k){this.tagName=a,this.properties=b||i,this.children=c||j,this.key=null!=d?d+"":void 0,this.namespace="string"==typeof k?k:null;var l,m=c&&c.length||0,n=0,o=!1,p=!1,q=!1;for(var r in b){if(b.hasOwnProperty(r)){var s=b[r];h(s)&&s.unhook&&(l||(l={}),l[r]=s)}}for(var t=0;m>t;t++){var u=c[t];e(u)?(n+=u.count||0,!o&&u.hasWidgets&&(o=!0),!p&&u.hasThunks&&(p=!0),q||!u.hooks&&!u.descendantHooks||(q=!0)):!o&&f(u)?"function"==typeof u.destroy&&(o=!0):!p&&g(u)&&(p=!0)}this.count=m+n,this.hasWidgets=o,this.hasThunks=p,this.hooks=l,this.descendantHooks=q}var d=a("./version"),e=a("./is-vnode"),f=a("./is-widget"),g=a("./is-thunk"),h=a("./is-vhook");b.exports=c;var i={},j=[];c.prototype.version=d,c.prototype.type="VirtualNode"},{"./is-thunk":26,"./is-vhook":27,"./is-vnode":28,"./is-widget":30,"./version":31}],33:[function(a,b){function c(a,b,c){this.type=+a,this.vNode=b,this.patch=c}var d=a("./version");c.NONE=0,c.VTEXT=1,c.VNODE=2,c.WIDGET=3,c.PROPS=4,c.ORDER=5,c.INSERT=6,c.REMOVE=7,c.THUNK=8,b.exports=c,c.prototype.version=d,c.prototype.type="VirtualPatch"},{"./version":31}],34:[function(a,b){function c(a){this.text=a+""}var d=a("./version");b.exports=c,c.prototype.version=d,c.prototype.type="VirtualText"},{"./version":31}],35:[function(a,b){function c(a,b){var g;for(var h in a){h in b||(g=g||{},g[h]=void 0);var i=a[h],j=b[h];if(i!==j){if(e(i)&&e(j)){if(d(j)!==d(i)){g=g||{},g[h]=j}else{if(f(j)){g=g||{},g[h]=j}else{var k=c(i,j);k&&(g=g||{},g[h]=k)}}}else{g=g||{},g[h]=j}}}for(var l in b){l in a||(g=g||{},g[l]=b[l])}return g}function d(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var e=a("is-object"),f=a("../vnode/is-vhook");b.exports=c},{"../vnode/is-vhook":27,"is-object":12}],36:[function(a,b){function c(a,b){var c={a:a};return d(a,b,c,0),c}function d(a,b,c,d){if(a!==b){var g=c[d],i=!1;if(u(a)||u(b)){h(a,b,c,d)}else{if(null==b){t(a)||(f(a,c,d),g=c[d]),g=o(g,new q(q.REMOVE,a,b))}else{if(r(b)){if(r(a)){if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var j=w(a.properties,b.properties);j&&(g=o(g,new q(q.PROPS,a,j))),g=e(a,b,c,g,d)}else{g=o(g,new q(q.VNODE,a,b)),i=!0}}else{g=o(g,new q(q.VNODE,a,b)),i=!0}}else{s(b)?s(a)?a.text!==b.text&&(g=o(g,new q(q.VTEXT,a,b))):(g=o(g,new q(q.VTEXT,a,b)),i=!0):t(b)&&(t(a)||(i=!0),g=o(g,new q(q.WIDGET,a,b)))}}}g&&(c[d]=g),i&&f(a,c,d)}}function e(a,b,c,e,f){for(var g=a.children,h=l(g,b.children),i=h.children,j=g.length,k=i.length,m=j>k?j:k,n=0;m>n;n++){var p=g[n],s=i[n];f+=1,p?d(p,s,c,f):s&&(e=o(e,new q(q.INSERT,null,s))),r(p)&&p.count&&(f+=p.count)}return h.moves&&(e=o(e,new q(q.ORDER,a,h.moves))),e}function f(a,b,c){j(a,b,c),g(a,b,c)}function g(a,b,c){if(t(a)){"function"==typeof a.destroy&&(b[c]=o(b[c],new q(q.REMOVE,a,null)))}else{if(r(a)&&(a.hasWidgets||a.hasThunks)){for(var d=a.children,e=d.length,f=0;e>f;f++){var i=d[f];c+=1,g(i,b,c),r(i)&&i.count&&(c+=i.count)}}else{u(a)&&h(a,null,b,c)}}}function h(a,b,d,e){var f=v(a,b),g=c(f.a,f.b);i(g)&&(d[e]=new q(q.THUNK,null,g))}function i(a){for(var b in a){if("a"!==b){return!0}}return!1}function j(a,b,c){if(r(a)){if(a.hooks&&(b[c]=o(b[c],new q(q.PROPS,a,k(a.hooks)))),a.descendantHooks||a.hasThunks){for(var d=a.children,e=d.length,f=0;e>f;f++){var g=d[f];c+=1,j(g,b,c),r(g)&&g.count&&(c+=g.count)}}}else{u(a)&&h(a,null,b,c)}}function k(a){var b={};for(var c in a){b[c]=void 0}return b}function l(a,b){var c=n(b),d=c.keys,e=c.free;if(e.length===b.length){return{children:b,moves:null}}var f=n(a),g=f.keys,h=f.free;if(h.length===a.length){return{children:b,moves:null}}for(var i=[],j=0,k=e.length,l=0,o=0;o<a.length;o++){var p,q=a[o];q.key?d.hasOwnProperty(q.key)?(p=d[q.key],i.push(b[p])):(p=o-l++,i.push(null)):k>j?(p=e[j++],i.push(b[p])):(p=o-l++,i.push(null))}for(var r=j>=e.length?b.length:e[j],s=0;s<b.length;s++){var t=b[s];t.key?g.hasOwnProperty(t.key)||i.push(t):s>=r&&i.push(t)}for(var u,v=i.slice(),w=0,x=[],y=[],z=0;z<b.length;){var A=b[z];for(u=v[w];null===u&&v.length;){x.push(m(v,w,null)),u=v[w]}u&&u.key===A.key?(w++,z++):A.key?(u&&u.key&&d[u.key]!==z+1?(x.push(m(v,w,u.key)),u=v[w],u&&u.key===A.key?w++:y.push({key:A.key,to:z})):y.push({key:A.key,to:z}),z++):u&&u.key&&x.push(m(v,w,u.key))}for(;w<v.length;){u=v[w],x.push(m(v,w,u&&u.key))}return x.length!==l||y.length?{children:i,moves:{removes:x,inserts:y}}:{children:i,moves:null}}function m(a,b,c){return a.splice(b,1),{from:b,key:c}}function n(a){for(var b={},c=[],d=a.length,e=0;d>e;e++){var f=a[e];f.key?b[f.key]=e:c.push(e)}return{keys:b,free:c}}function o(a,b){return a?(p(a)?a.push(b):a=[a,b],a):b}var p=a("x-is-array"),q=a("../vnode/vpatch"),r=a("../vnode/is-vnode"),s=a("../vnode/is-vtext"),t=a("../vnode/is-widget"),u=a("../vnode/is-thunk"),v=a("../vnode/handle-thunk"),w=a("./diff-props");b.exports=c},{"../vnode/handle-thunk":25,"../vnode/is-thunk":26,"../vnode/is-vnode":28,"../vnode/is-vtext":29,"../vnode/is-widget":30,"../vnode/vpatch":33,"./diff-props":35,"x-is-array":13}],37:[function(a,b){function c(a){try{var b=a.title,c=a.text,d=a.references}catch(e){}return{page:a||this,id:-1,title:"",text:"",references:[],category:[],contentType:"Content",listItemType:"",timestamp:null,originalTitle:b||"",originalText:c||"",originalReferences:d||[],set:function(b){var c;b=b||a||this.page;for(c in b){this.hasOwnProperty(c)&&(this[c]=b[c])}return this},reset:function(){var b;for(b in a){this.hasOwnProperty(b)&&(this[b]=null)}a=null}}}b.exports=c},{}]},{},[1,37,2]);